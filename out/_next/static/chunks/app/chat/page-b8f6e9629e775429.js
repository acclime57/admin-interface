(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{7204:(e,r,t)=>{Promise.resolve().then(t.bind(t,6417))},6417:(e,r,t)=>{"use strict";t.d(r,{default:()=>N});var s=t(5155),a=t(2115),l=t(5686),n=t(4505),i=t(8283),d=t(4085),o=t(9677),c=t(9602);let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a})});u.displayName="Textarea";var f=t(942);let m=a.forwardRef((e,r)=>{let{className:t,children:a,...l}=e;return(0,s.jsxs)(f.bL,{ref:r,className:(0,c.cn)("relative overflow-hidden",t),...l,children:[(0,s.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(x,{}),(0,s.jsx)(f.OK,{})]})});m.displayName=f.bL.displayName;let x=a.forwardRef((e,r)=>{let{className:t,orientation:a="vertical",...l}=e;return(0,s.jsx)(f.VM,{ref:r,orientation:a,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,s.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})})});x.displayName=f.VM.displayName;let v=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});v.displayName="Card",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t),...a})}).displayName="CardHeader",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("font-semibold leading-none tracking-tight",t),...a})}).displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",t),...a})}).displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var h=t(9827),p=t(709);let g=(0,h.v)()((0,p.Zr)(e=>({messages:[],addMessage:r=>e(e=>({messages:[...e.messages,{...r,timestamp:Date.now()}]})),clearMessages:()=>e({messages:[]})}),{name:"chat-storage",storage:(0,p.KU)(()=>localStorage)}));var b=t(1649);function N(){let{messages:e,addMessage:r,clearMessages:t}=g(),[c,f]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[p,N]=(0,a.useState)(null),y=(0,a.useRef)(null),j=()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{j()},[e]);let w=async e=>{if(e.preventDefault(),!c.trim()||x)return;let t=c.trim();f(""),N(null),h(!0),r({role:"user",content:t});try{let e=await fetch("".concat("https://admin-interface-rjwf.onrender.com","/ask-question/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t})});if(!e.ok)throw Error("Failed to get response");let s=await e.json();r({role:"assistant",content:s.answer})}catch(e){N("Failed to get response. Please try again."),console.error("Error:",e)}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)(v,{className:"h-[80vh] flex flex-col bg-white",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Chat with Documents"}),(0,s.jsx)(d.$,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-500 hover:text-red-500",title:"Clear chat history",children:(0,s.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,s.jsx)(m,{className:"flex-1 p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[e.map((e,r)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"),children:[(0,s.jsx)("div",{className:"break-words",children:e.content}),(0,s.jsx)("div",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:(0,b.m)(e.timestamp,{addSuffix:!0})})]})},r)),x&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,s.jsx)(n.A,{className:"w-4 h-4 animate-spin"})})}),(0,s.jsx)("div",{ref:y})]})}),p&&(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)(o.Fc,{variant:"destructive",children:(0,s.jsx)(o.TN,{children:p})})}),(0,s.jsx)("form",{onSubmit:w,className:"p-4 border-t",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u,{value:c,onChange:e=>f(e.target.value),placeholder:"Ask a question...",className:"flex-1 resize-none",rows:1,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w(e))}}),(0,s.jsx)(d.$,{type:"submit",disabled:x||!c.trim(),className:"shrink-0",children:x?(0,s.jsx)(n.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(i.A,{className:"w-4 h-4"})})]})})]})})})}},9677:(e,r,t)=>{"use strict";t.d(r,{Fc:()=>d,TN:()=>o});var s=t(5155),a=t(2115),l=t(652),n=t(9602);let i=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,...l}=e;return(0,s.jsx)("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:a}),t),...l})});d.displayName="Alert",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}).displayName="AlertTitle";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...a})});o.displayName="AlertDescription"},4085:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var s=t(5155),a=t(2115),l=t(2317),n=t(652),i=t(9602);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:n,className:t})),ref:r,...c})});o.displayName="Button"},9602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var s=t(3463),a=t(9795);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[845,630,441,517,358],()=>r(7204)),_N_E=e.O()}]);